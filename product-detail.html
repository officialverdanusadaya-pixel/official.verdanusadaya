<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detail Produk - Verda Nusadaya</title>
    <meta
      name="description"
      content="Detail produk agroindustri berkualitas tinggi dari Verda Nusadaya"
    />
    <meta
      name="keywords"
      content="detail produk, verda nusadaya, agroindustri, kopi, karet, kelapa sawit"
    />

    <!-- Open Graph -->
    <meta property="og:title" content="Detail Produk - Verda Nusadaya" />
    <meta
      property="og:description"
      content="Detail produk agroindustri berkualitas tinggi dari Verda Nusadaya"
    />
    <meta
      property="og:url"
      content="https://officialverdanusadaya-pixel.github.io/official.verdanusadaya/product-detail.html"
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="./img/favicon-32x32.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Detail Produk - Verda Nusadaya" />
    <meta
      name="twitter:description"
      content="Detail produk agroindustri berkualitas tinggi dari Verda Nusadaya"
    />
    <meta name="twitter:image" content="./img/favicon-32x32.png" />

    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta name="language" content="Indonesian" />
    <meta name="revisit-after" content="7 days" />

    <!-- Favicon -->
    <link rel="icon" href="./img/favicon-32x32.png" />
    <link rel="apple-touch-icon" href="./img/favicon-32x32.png" />

    <!-- Premium Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Montserrat:wght@300;400;500;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- Structured Data for Product Detail -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Premium Agro Products",
        "description": "High-quality agro-industry products from PT. Verda Nusadaya",
        "brand": {
          "@type": "Brand",
          "name": "PT. Verda Nusadaya"
        },
        "manufacturer": {
          "@type": "Organization",
          "name": "PT. Verda Nusadaya",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "Jl. Raya Gondang No.16, Gondang Village",
            "addressLocality": "Gangga Subdistrict",
            "addressRegion": "North Lombok Regency",
            "postalCode": "83353",
            "addressCountry": "ID"
          }
        },
        "offers": {
          "@type": "Offer",
          "availability": "https://schema.org/InStock",
          "priceCurrency": "IDR",
          "seller": {
            "@type": "Organization",
            "name": "PT. Verda Nusadaya"
          }
        }
      }
    </script>

    <!-- Custom Premium Styles -->
    <style>
      /* Premium Typography */
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "Playfair Display", serif;
        font-weight: 700;
      }

      body {
        font-family: "Montserrat", sans-serif;
      }

      .product-title {
        font-family: "Playfair Display", serif;
        font-weight: 900;
        font-size: 2.5rem;
        line-height: 1.1;
      }

      /* Premium Product Gallery */
      .product-gallery {
        position: relative;
        overflow: hidden;
        border-radius: 15px;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      }

      .main-image {
        position: relative;
        height: 500px;
        overflow: hidden;
      }

      .main-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .main-image:hover img {
        transform: scale(1.05);
      }

      .product-badge {
        position: absolute;
        top: 20px;
        right: 20px;
        background: var(--accent-color);
        color: var(--dark-color);
        padding: 8px 16px;
        border-radius: 30px;
        font-weight: 600;
        font-size: 0.9rem;
        z-index: 1;
      }

      .image-thumbnails {
        display: flex;
        gap: 10px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.9);
      }

      .thumbnail {
        width: 80px;
        height: 80px;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .thumbnail:hover,
      .thumbnail.active {
        border-color: var(--primary-color);
        transform: scale(1.05);
      }

      .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* Premium Product Info */
      .product-info {
        padding: 2rem;
      }

      .product-meta {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .product-category {
        background: var(--light-gold);
        color: var(--dark-color);
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
      }

      .product-rating {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .rating-stars {
        color: var(--gold);
      }

      .rating-value {
        color: var(--text-gray);
        font-size: 0.9rem;
      }

      /* Premium Tabs */
      .product-tabs {
        margin: 2rem 0;
        border-bottom: 1px solid #e5e7eb;
      }

      .tab-buttons {
        display: flex;
        gap: 2rem;
      }

      .tab-button {
        padding: 1rem 0;
        border: none;
        background: none;
        color: var(--text-gray);
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        position: relative;
        transition: color 0.3s ease;
      }

      .tab-button.active {
        color: var(--primary-color);
      }

      .tab-button.active::after {
        content: "";
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(
          90deg,
          var(--primary-color),
          var(--accent-color)
        );
      }

      .tab-content {
        padding: 2rem 0;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .tab-content.active {
        opacity: 1;
      }

      /* Premium Related Products */
      .related-product {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        position: relative;
      }

      .related-product::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(
          90deg,
          var(--primary-color),
          var(--accent-color)
        );
      }

      .related-product:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      }

      .related-product-image {
        height: 200px;
        overflow: hidden;
        position: relative;
      }

      .related-product-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .related-product:hover .related-product-image img {
        transform: scale(1.1);
      }

      .related-product-content {
        padding: 1.5rem;
      }

      .related-product-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--primary-color);
      }

      .related-product-price {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--secondary-color);
        margin-bottom: 1rem;
      }

      /* Premium Specifications */
      .spec-list {
        list-style: none;
      }

      .spec-list li {
        display: flex;
        justify-content: space-between;
        padding: 1rem 0;
        border-bottom: 1px solid #f3f4f6;
      }

      .spec-list li:last-child {
        border-bottom: none;
      }

      .spec-label {
        font-weight: 600;
        color: var(--dark-color);
      }

      .spec-value {
        color: var(--text-gray);
      }

      /* Premium Ordering Steps */
      .ordering-steps {
        margin-top: 2rem;
      }

      .step {
        display: flex;
        align-items: flex-start;
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .step-number {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(
          135deg,
          var(--secondary-color),
          var(--primary-color)
        );
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        flex-shrink: 0;
      }

      .step-content h4 {
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
        color: var(--primary-color);
      }

      .step-content p {
        color: var(--text-gray);
      }

      /* Premium Zoom Feature */
      .zoom-container {
        position: relative;
        overflow: hidden;
        cursor: zoom-in;
      }

      .zoom-lens {
        position: absolute;
        border: 2px solid var(--primary-color);
        border-radius: 50%;
        width: 100px;
        height: 100px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .zoom-result {
        position: absolute;
        top: 0;
        right: -320px;
        width: 300px;
        height: 300px;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 10;
      }

      .zoom-result img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* Responsive Adjustments */
      @media (max-width: 768px) {
        .product-title {
          font-size: 2rem;
        }

        .main-image {
          height: 300px;
        }

        .zoom-result {
          display: none;
        }

        .tab-buttons {
          overflow-x: auto;
          gap: 1rem;
        }
      }
    </style>
  </head>
  <body class="min-h-screen bg-white">
    <!-- Premium Loading Screen -->
    <div class="loader" id="loader">
      <div class="leaf-loader"></div>
    </div>

    <!-- Navigation -->
    <nav class="nav" id="navbar">
      <div class="nav-container">
        <a href="index.html" class="nav-logo">
          <img src="img/favicon-32x32.png" alt="Verda Nusadaya" />
          <span>Verda Nusadaya</span>
        </a>

        <div class="nav-menu">
          <a href="index.html">Beranda</a>
          <a href="about.html">Tentang Kami</a>
          <a href="products.html">Produk</a>
          <a href="contact.html">Kontak</a>
        </div>

        <div class="nav-contact">
          <div class="nav-contact-info">
            <i class="fas fa-phone"></i>
            <span>+62 812-3456-7890</span>
          </div>
          <a href="contact.html" class="btn btn-primary">Hubungi Kami</a>
        </div>

        <button class="nav-mobile-btn" onclick="toggleMobileMenu()">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu">
      <div class="mobile-menu-header">
        <div class="nav-logo">
          <img src="img/favicon-32x32.png" alt="Verda Nusadaya" />
          <span>Verda Nusadaya</span>
        </div>
        <button class="mobile-menu-close" onclick="toggleMobileMenu()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="mobile-menu-content">
        <ul class="mobile-menu-links">
          <li><a href="index.html" onclick="toggleMobileMenu()">Beranda</a></li>
          <li>
            <a href="about.html" onclick="toggleMobileMenu()">Tentang Kami</a>
          </li>
          <li>
            <a href="products.html" onclick="toggleMobileMenu()">Produk</a>
          </li>
          <li>
            <a href="contact.html" onclick="toggleMobileMenu()">Kontak</a>
          </li>
        </ul>
        <div class="mobile-menu-contact">
          <div class="mobile-menu-contact-item">
            <i class="fas fa-phone"></i>
            <span>+62 812-3456-7890</span>
          </div>
          <div class="mobile-menu-contact-item">
            <i class="fas fa-envelope"></i>
            <span>info@verdanusadaya.com</span>
          </div>
          <a href="contact.html" class="btn btn-primary w-full">Hubungi Kami</a>
        </div>
      </div>
    </div>
    <div id="overlay" class="overlay" onclick="toggleMobileMenu()"></div>

    <!-- Main Content -->
    <main class="product-detail-container">
      <div class="container">
        <!-- Breadcrumb Navigation -->
        <ul class="breadcrumb" data-aos="fade-up">
          <li><a href="index.html">Beranda</a></li>
          <li><a href="products.html">Produk</a></li>
          <li id="productName">Memuat...</li>
        </ul>

        <!-- Loading State -->
        <div id="loadingState" class="loading-spinner">
          <div class="loading-spinner"></div>
        </div>

        <!-- Error State -->
        <div id="errorState" class="error-message hidden">
          <p>
            Produk tidak ditemukan. Silakan kembali ke
            <a href="products.html">halaman produk</a>.
          </p>
        </div>

        <!-- Product Detail Content -->
        <div id="productContent" class="hidden">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
            <!-- Product Image Gallery -->
            <div class="product-gallery" data-aos="fade-right">
              <div class="main-image zoom-container" id="mainImageContainer">
                <img id="productImage" src="" alt="" loading="lazy" />
                <div class="zoom-lens" id="zoomLens"></div>
                <div class="zoom-result" id="zoomResult">
                  <img id="zoomImage" src="" alt="Zoomed Product" />
                </div>
                <span id="productBadge" class="product-badge hidden"></span>
              </div>

              <div class="image-thumbnails" id="imageThumbnails">
                <!-- Thumbnails will be loaded by JavaScript -->
              </div>
            </div>

            <!-- Product Information -->
            <div class="product-info" data-aos="fade-left">
              <div class="product-meta">
                <span id="productCategory" class="product-category"></span>
                <div class="product-rating">
                  <div class="rating-stars" id="productRating"></div>
                  <span class="rating-value" id="productRatingValue"></span>
                </div>
              </div>

              <h1 id="productTitle" class="product-title"></h1>

              <div class="product-specs" id="productSpecs"></div>

              <p id="productDescription" class="text-gray-600 mb-6"></p>

              <div class="product-actions">
                <a href="contact.html" class="btn btn-primary">
                  <i class="fas fa-phone mr-2"></i>
                  Hubungi Kami
                </a>
                <a href="products.html" class="btn btn-outline">
                  <i class="fas fa-arrow-left mr-2"></i>
                  Kembali ke Produk
                </a>
              </div>
            </div>
          </div>

          <!-- Product Tabs -->
          <div class="product-tabs" data-aos="fade-up">
            <div class="tab-buttons">
              <button
                class="tab-button active"
                onclick="showTab('description')"
              >
                Deskripsi
              </button>
              <button class="tab-button" onclick="showTab('specifications')">
                Spesifikasi
              </button>
              <button class="tab-button" onclick="showTab('ordering')">
                Cara Pemesanan
              </button>
            </div>
          </div>

          <!-- Tab Content -->
          <div class="tab-content active" id="descriptionTab">
            <p id="fullDescription" class="text-gray-600 mb-6"></p>
          </div>

          <div class="tab-content" id="specificationsTab">
            <ul class="spec-list" id="specList"></ul>
          </div>

          <div class="tab-content" id="orderingTab">
            <div class="ordering-steps">
              <div class="step" data-aos="fade-up" data-aos-delay="100">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>Hubungi Sales</h4>
                  <p>
                    Konsultasikan kebutuhan Anda dengan tim sales kami untuk
                    mendapatkan informasi produk dan penawaran harga terbaik.
                  </p>
                </div>
              </div>

              <div class="step" data-aos="fade-up" data-aos-delay="200">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>Konfirmasi Pesanan</h4>
                  <p>
                    Setelah mendapatkan penawaran harga, konfirmasi pesanan Anda
                    dengan menentukan jumlah dan spesifikasi yang dibutuhkan.
                  </p>
                </div>
              </div>

              <div class="step" data-aos="fade-up" data-aos-delay="300">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>Proses Pembayaran</h4>
                  <p>
                    Lakukan pembayaran sesuai dengan kesepakatan. Kami menerima
                    berbagai metode pembayaran untuk kemudahan Anda.
                  </p>
                </div>
              </div>

              <div class="step" data-aos="fade-up" data-aos-delay="400">
                <div class="step-number">4</div>
                <div class="step-content">
                  <h4>Pengiriman Produk</h4>
                  <p>
                    Produk akan dikirim sesuai jadwal yang telah disepakati.
                    Kami menyediakan tracking untuk memantau status pengiriman.
                  </p>
                </div>
              </div>
            </div>

            <div
              class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"
              data-aos="fade-up"
              data-aos-delay="500"
            >
              <p class="text-sm text-yellow-800">
                <strong>Informasi Penting:</strong> Harga dan ketersediaan stok
                dapat berubah sewaktu-waktu. Harap konfirmasi dengan tim sales
                kami untuk informasi terkini.
              </p>
            </div>
          </div>

          <!-- Related Products -->
          <div class="mt-16">
            <h2 class="text-2xl font-bold mb-8" data-aos="fade-up">
              Produk Terkait
            </h2>
            <div
              id="relatedProducts"
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"
            >
              <!-- Related products will be loaded here -->
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <div class="footer-logo">
              <img
                src="img/favicon-32x32.png"
                alt="Verda Nusadaya Logo"
                class="footer-logo-icon"
              />
              <span>Verda Nusadaya</span>
            </div>
            <p class="text-gray-300 mb-4 max-w-md">
              PT. Verda Nusadaya adalah perusahaan agroindustri terpercaya yang
              menyediakan produk berkualitas tinggi dari hasil pertanian
              Indonesia.
            </p>
            <div class="footer-social">
              <a
                href="https://www.facebook.com/verdanusadaya"
                class="footer-social"
                target="_blank"
              >
                <i class="fab fa-facebook-f"></i>
              </a>
              <a
                href="https://www.instagram.com/verdanusadaya"
                class="footer-social"
                target="_blank"
              >
                <i class="fab fa-instagram"></i>
              </a>
              <a
                href="https://www.twitter.com/verdanusadaya"
                class="footer-social"
                target="_blank"
              >
                <i class="fab fa-twitter"></i>
              </a>
            </div>
          </div>

          <div class="footer-section">
            <h3>Link Cepat</h3>
            <ul class="footer-links">
              <li><a href="index.html">Beranda</a></li>
              <li><a href="about.html">Tentang Kami</a></li>
              <li><a href="products.html">Produk</a></li>
              <li><a href="contact.html">Kontak</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Kontak</h3>
            <div class="space-y-3">
              <div class="flex items-center space-x-2">
                <i class="fas fa-phone text-green-400"></i>
                <span class="text-gray-300">+62 812-3456-7890</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-envelope text-green-400"></i>
                <span class="text-gray-300">info@verdanusadaya.com</span>
              </div>
              <div class="flex items-start space-x-2">
                <i class="fas fa-map-marker-alt text-green-400 mt-1"></i>
                <span class="text-gray-300">
                  Jl. Raya Gondang No.16, Gondang Village<br />
                  Gangga Subdistrict, North Lombok Regency<br />
                  West Nusa Tenggara 83353
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2024 PT. Verda Nusadaya. All rights reserved.</p>
      </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="./js/main.js"></script>

    <!-- Product Detail JavaScript -->
    <script>
      // Initialize AOS
      AOS.init({
        duration: 1000,
        once: true,
      });

      // Hide loader when page is fully loaded
      window.addEventListener("load", function () {
        setTimeout(function () {
          document.getElementById("loader").classList.add("hidden");
        }, 1000);
      });

      // Navbar scroll effect
      window.addEventListener("scroll", function () {
        const navbar = document.getElementById("navbar");
        if (window.scrollY > 100) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }
      });

      // Get product ID from URL parameter
      const urlParams = new URLSearchParams(window.location.search);
      const productId = urlParams.get("id");

      // DOM elements
      const loadingState = document.getElementById("loadingState");
      const errorState = document.getElementById("errorState");
      const productContent = document.getElementById("productContent");

      // Product detail elements
      const productName = document.getElementById("productName");
      const productImage = document.getElementById("productImage");
      const productBadge = document.getElementById("productBadge");
      const productTitle = document.getElementById("productTitle");
      const productCategory = document.getElementById("productCategory");
      const productRating = document.getElementById("productRating");
      const productRatingValue = document.getElementById("productRatingValue");
      const productSpecs = document.getElementById("productSpecs");
      const productDescription = document.getElementById("productDescription");
      const fullDescription = document.getElementById("fullDescription");
      const specList = document.getElementById("specList");
      const relatedProducts = document.getElementById("relatedProducts");
      const imageThumbnails = document.getElementById("imageThumbnails");

      // Initialize product detail page
      document.addEventListener("DOMContentLoaded", function () {
        if (productId) {
          loadProductDetail(productId);
        } else {
          showError();
        }
      });

      // Load product detail
      function loadProductDetail(id) {
        // Find product in products array from main.js
        const product = products.find((p) => p.id == id);

        if (product) {
          displayProductDetail(product);
          loadRelatedProducts(product.category, product.id);
          setupImageZoom();
          updateCanonicalUrl(product);
        } else {
          showError();
        }
      }

      // Update canonical URL for SEO
      function updateCanonicalUrl(product) {
        const canonicalLink = document.querySelector('link[rel="canonical"]');
        if (canonicalLink) {
          canonicalLink.href = `https://officialverdanusadaya-pixel.github.io/official.verdanusadaya/product-detail.html?id=${product.id}`;
        }
      }

      // Display product detail
      function displayProductDetail(product) {
        // Hide loading state
        loadingState.classList.add("hidden");

        // Update breadcrumb
        productName.textContent = product.name;

        // Update product image with error handling
        productImage.src = product.image;
        productImage.alt = product.name;
        productImage.onerror = function () {
          this.src =
            "https://picsum.photos/seed/" + product.id + "/600/600.jpg";
        };

        // Create image thumbnails
        createImageThumbnails(product);

        // Update product badge if featured
        if (product.isFeatured) {
          productBadge.textContent = "Unggulan";
          productBadge.classList.add("badge-featured");
          productBadge.classList.remove("hidden");
        }

        // Update product title
        productTitle.textContent = product.name;

        // Update product category
        productCategory.textContent = getCategoryLabel(product.category);

        // Update rating
        productRating.innerHTML = generateRatingStars(product.rating);
        productRatingValue.textContent = `${product.rating} (${
          Math.floor(Math.random() * 50) + 10
        } ulasan)`;

        // Update product specs
        productSpecs.innerHTML = "";
        product.specs.forEach((spec) => {
          const badge = document.createElement("span");
          badge.className = "spec-badge";
          badge.textContent = spec;
          productSpecs.appendChild(badge);
        });

        // Update description
        productDescription.textContent = product.description;
        fullDescription.textContent = `${product.description} 

Produk ini memiliki kualitas terbaik dan telah melalui proses quality control yang ketat untuk memastikan kepuasan pelanggan. Dengan harga yang kompetitif, produk ini menjadi pilihan utama untuk kebutuhan agroindustri Anda.

Keunggulan Produk:
• Kualitas premium terjamin
• Sertifikasi internasional
• Harga kompetitif
• Pengiriman tepat waktu
• Layanan pelanggan terbaik

Aplikasi Produk:
 ${product.specs.map((spec) => `• ${spec}`).join("\n")}

Untuk informasi lebih lanjut tentang harga, ketersediaan stok, dan proses pemesanan, silakan hubungi tim sales kami.`;

        // Update specifications
        specList.innerHTML = "";
        const categoryLabel = getCategoryLabel(product.category);

        // Add basic specs
        const basicSpecs = [
          { label: "Kategori", value: categoryLabel },
          { label: "Harga", value: product.price },
          {
            label: "Minimum Order",
            value: `${product.minOrder} ${
              product.category === "kelapa-sawit" &&
              product.name.includes("Liter")
                ? "liter"
                : "kg"
            }`,
          },
          {
            label: "Ketersediaan",
            value: product.inStock ? "Tersedia" : "Stok Habis",
          },
          { label: "Rating", value: `${product.rating}/5.0` },
        ];

        basicSpecs.forEach((spec) => {
          const specItem = document.createElement("li");
          specItem.innerHTML = `
                    <span class="spec-label">${spec.label}</span>
                    <span class="spec-value">${spec.value}</span>
                `;
          specList.appendChild(specItem);
        });

        // Add all specs from product data
        product.specs.forEach((spec) => {
          const specItem = document.createElement("li");
          specItem.innerHTML = `
                    <span class="spec-label">${spec}</span>
                    <span class="spec-value">Tersedia</span>
                `;
          specList.appendChild(specItem);
        });

        // Show product content
        productContent.classList.remove("hidden");
      }

      // Create image thumbnails
      function createImageThumbnails(product) {
        // Clear existing thumbnails
        imageThumbnails.innerHTML = "";

        // Generate additional image URLs for thumbnails
        const thumbnailImages = [
          product.image,
          `https://picsum.photos/seed/${product.id}-1/300/300.jpg`,
          `https://picsum.photos/seed/${product.id}-2/300/300.jpg`,
          `https://picsum.photos/seed/${product.id}-3/300/300.jpg`,
        ];

        // Create thumbnail elements
        thumbnailImages.forEach((imageUrl, index) => {
          const thumbnail = document.createElement("div");
          thumbnail.className = "thumbnail" + (index === 0 ? " active" : "");

          const img = document.createElement("img");
          img.src = imageUrl;
          img.alt = `${product.name} - Gambar ${index + 1}`;
          img.loading = "lazy";

          thumbnail.appendChild(img);
          thumbnail.addEventListener("click", function () {
            // Update main image
            productImage.src = imageUrl;

            // Update active thumbnail
            document
              .querySelectorAll(".thumbnail")
              .forEach((t) => t.classList.remove("active"));
            this.classList.add("active");
          });

          imageThumbnails.appendChild(thumbnail);
        });
      }

      // Setup image zoom functionality
      function setupImageZoom() {
        const mainImageContainer =
          document.getElementById("mainImageContainer");
        const zoomLens = document.getElementById("zoomLens");
        const zoomResult = document.getElementById("zoomResult");
        const zoomImage = document.getElementById("zoomImage");
        const productImage = document.getElementById("productImage");

        // Only enable zoom on desktop
        if (window.innerWidth > 768) {
          mainImageContainer.addEventListener("mousemove", function (e) {
            zoomLens.style.opacity = "1";
            zoomResult.style.opacity = "1";

            // Get mouse position
            const rect = mainImageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            // Position lens
            let lensX = x - 50;
            let lensY = y - 50;

            // Constrain lens within image
            if (lensX < 0) lensX = 0;
            if (lensY < 0) lensY = 0;
            if (lensX > rect.width - 100) lensX = rect.width - 100;
            if (lensY > rect.height - 100) lensY = rect.height - 100;

            zoomLens.style.left = lensX + "px";
            zoomLens.style.top = lensY + "px";

            // Update zoomed image
            const zoomX = (lensX / rect.width) * 100;
            const zoomY = (lensY / rect.height) * 100;

            zoomImage.src = productImage.src;
            zoomImage.style.transform = `scale(2) translate(-${zoomX}%, -${zoomY}%)`;
          });

          mainImageContainer.addEventListener("mouseleave", function () {
            zoomLens.style.opacity = "0";
            zoomResult.style.opacity = "0";
          });
        }
      }

      // Load related products
      function loadRelatedProducts(category, currentProductId) {
        // Filter products by category (excluding current product)
        const related = products
          .filter(
            (p) =>
              p.category === category && p.id != currentProductId && p.inStock
          )
          .slice(0, 4);

        // Clear related products container
        relatedProducts.innerHTML = "";

        if (related.length === 0) {
          relatedProducts.innerHTML =
            '<p class="text-gray-500 text-center col-span-full">Tidak ada produk terkait yang tersedia</p>';
          return;
        }

        // Add related products
        related.forEach((product, index) => {
          const productCard = createRelatedProductCard(product);
          productCard.setAttribute("data-aos", "fade-up");
          productCard.setAttribute("data-aos-delay", (index * 100).toString());
          relatedProducts.appendChild(productCard);
        });
      }

      // Create related product card
      function createRelatedProductCard(product) {
        const card = document.createElement("div");
        card.className = "related-product";

        const categoryLabel = getCategoryLabel(product.category);
        const ratingStars = generateRatingStars(product.rating);

        card.innerHTML = `
                <div class="related-product-image">
                    <img src="${product.image}" alt="${
          product.name
        }" loading="lazy" onerror="this.src='https://picsum.photos/seed/${
          product.id
        }/400/300.jpg'">
                    ${
                      product.isFeatured
                        ? `
                        <span class="product-badge">Unggulan</span>
                        `
                        : ""
                    }
                </div>
                <div class="related-product-content">
                    <h3 class="related-product-title">${product.name}</h3>
                    <p class="text-gray-600 mb-4 line-clamp-2">${
                      product.description
                    }</p>
                    
                    <div class="product-rating mb-3">
                        <div class="rating-stars">${ratingStars}</div>
                        <span class="rating-value">${product.rating}</span>
                    </div>

                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-lg font-bold text-green-600">${
                              product.price
                            }</span>
                            <span class="text-xs text-gray-500 block">Min. ${
                              product.minOrder
                            } ${
          product.category === "kelapa-sawit" && product.name.includes("Liter")
            ? "liter"
            : "kg"
        }</span>
                        </div>
                        <a href="product-detail.html?id=${
                          product.id
                        }" class="btn btn-primary btn-sm">Detail</a>
                    </div>
                </div>
            `;

        return card;
      }

      // Show error state
      function showError() {
        loadingState.classList.add("hidden");
        errorState.classList.remove("hidden");
      }

      // Enhanced tab switching with smooth transitions
      function showTab(tabName) {
        // Update tab buttons
        const tabButtons = document.querySelectorAll(".tab-button");
        tabButtons.forEach((button) => {
          button.classList.remove("active");
          if (button.textContent.toLowerCase().includes(tabName)) {
            button.classList.add("active");
          }
        });

        // Update tab content with fade effect
        const tabContents = document.querySelectorAll(".tab-content");
        tabContents.forEach((content) => {
          content.classList.remove("active");
        });

        setTimeout(() => {
          const activeTab = document.getElementById(`${tabName}Tab`);
          if (activeTab) {
            activeTab.classList.add("active");
          }
        }, 100);
      }

      // Make functions globally available
      window.showTab = showTab;
    </script>
  </body>
</html>
